{"version":3,"sources":["Colors.ts","UI.ts","Drawing.style.ts","Drawing.tsx","DrawArea.style.ts","DrawArea.tsx","FlowChart.style.ts","FlowChart.tsx","Home.style.ts","Home.tsx","index.style.ts","index.tsx"],"names":["Colors","Button","styled","button","withConfig","displayName","componentId","Row","div","Column","Wrapper","Path","path","DrawingSVG","svg","viewBoxSize","width","height","DrawingLine","_ref2","pathData","line","map","p","concat","x","y","join","react_default","a","createElement","d","Drawing","_ref","onMouseDown","onMouseMove","lines","drawingRef","relativePoint","event","_getBoundingClientRec","current","getBoundingClientRect","left","top","scale","offset","clientX","clientY","mouseEvent","preventDefault","onTouchStart","touchEvent","touches","onTouchMove","ref","viewBox","preserveAspectRatio","fill","index","Drawing_DrawingLine","key","DrawArea","onChange","_useState","useState","_useState2","Object","slicedToArray","isDrawing","setIsDrawing","useRef","handleMouseUp","useEffect","document","addEventListener","removeEventListener","DrawArea_style_Wrapper","src_Drawing","point","toConsumableArray","slice","length","Node","isSelected","css","_templateObject","Preview","Thumbnail","TextPreview","PanelPreview","panel","drawing","text","FlowChart","panels","selected","onNodeClick","hoverIndex","setHoverIndex","FlowChart_style_Wrapper","Fragment","onClick","onMouseEnter","onMouseLeave","FlowChart_PanelPreview","TextInput","textarea","DrawColumn","Home","setDrawing","_useState3","_useState4","setText","_useState5","_useState6","setSelected","_useState7","_useState8","setPanels","localStorage","setItem","JSON","stringify","Home_style_Wrapper","src_DrawArea","target","value","placeholder","savedPanels","getItem","parse","prevPanels","newPanels","src_FlowChart","GlobalStyle","createGlobalStyle","index_style_templateObject","ReactDOM","render","src_Home","getElementById"],"mappings":"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","file":"static/js/main.68dfe714.chunk.js","sourcesContent":["export default {\n  primary: '#3d695f',\n  primaryVariant: '#1e352f',\n  secondary: '#c1d2ce',\n  secondaryVariant: '#65877f',\n};\n","import styled from 'styled-components/macro';\n\nimport Colors from './Colors';\n\nexport const Button = styled.button`\n  all: unset;\n  flex: 1;\n  padding: 7px;\n  background: ${Colors.secondaryVariant};\n  border-radius: 5px;\n  margin: 5px;\n  text-align: center;\n  cursor: pointer;\n  border: solid 3px ${Colors.secondaryVariant};\n  \n  :hover {\n    background: ${Colors.primary};\n  }\n  \n  :active {\n    border-color: ${Colors.primaryVariant};\n  }\n`;\n\nexport const Row = styled.div`\n  display: flex;\n`;\n\nexport const Column = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n","import styled from 'styled-components/macro';\n\nimport Colors from './Colors';\n\nexport const Wrapper = styled.div`\n  flex: 1;\n  touch-action: none;\n`\n\nexport const Path = styled.path`\n  fill: none;\n  stroke-width: 5px;\n  stroke: ${Colors.primaryVariant};\n  stroke-linejoin: round;\n  stroke-linecap: round;\n`\n\nexport const DrawingSVG = styled.svg`\n  width: 100%;\n  height: 100%;\n`","import React from 'react';\n\nimport Colors from './Colors';\nimport {\n  Wrapper,\n  DrawingSVG,\n  Path,\n} from './Drawing.style';\n\nconst viewBoxSize = {\n  width: 400,\n  height: 300,\n};\n\nconst Drawing: React.FC<{\n  onMouseDown?: (point: Point) => void,\n  onMouseMove?: (point: Point) => void,\n  drawingRef?: React.RefObject<HTMLDivElement>,\n  lines: LinePath,\n}> = ({\n  onMouseDown,\n  onMouseMove,\n  lines,\n  drawingRef,\n}) => {\n  function handleMouseDown(mouseEvent: React.MouseEvent) {\n    mouseEvent.preventDefault();\n    mouseEvent.button === 0 && onMouseDown!(relativePoint(mouseEvent));\n  }\n\n  function handleMouseMove(mouseEvent: React.MouseEvent) {\n    mouseEvent.preventDefault();\n    onMouseMove!(relativePoint(mouseEvent));\n  }\n\n  function handleTouchStart(touchEvent: React.TouchEvent) {\n    touchEvent.preventDefault();\n    onMouseDown!(relativePoint(touchEvent.touches[0]));\n  }\n\n  function handleTouchMove(touchEvent: React.TouchEvent) {\n    touchEvent.preventDefault();\n    onMouseMove!(relativePoint(touchEvent.touches[0]));\n  }\n\n  function relativePoint(event: React.MouseEvent | React.Touch) : Point {\n    const {\n      width,\n      height,\n      left,\n      top,\n    } = drawingRef!.current!.getBoundingClientRect();\n\n    const viewBoxRatio = viewBoxSize.height / viewBoxSize.width;\n    const boundsRatio = height / width;\n\n    const scale = viewBoxRatio < boundsRatio\n      ? width / viewBoxSize.width\n      : height / viewBoxSize.height\n\n    const offset = {\n      x: 0,\n      y: 0,\n    };\n    \n    if (width > height) {\n      offset.x += (width - (viewBoxSize.width * scale)) / 2;\n    } else {\n      offset.y += (height - (viewBoxSize.height * scale)) / 2;\n    }\n\n    return {\n      x: (event.clientX - offset.x) / scale - left,\n      y: (event.clientY - offset.y) / scale - top,\n    };\n  }\n\n  return (\n    <Wrapper\n      onMouseDown={onMouseDown && handleMouseDown}\n      onMouseMove={onMouseMove && handleMouseMove}\n      onTouchStart={onMouseDown && handleTouchStart}\n      onTouchMove={onMouseMove && handleTouchMove}\n      ref={drawingRef}\n    >\n      <DrawingSVG\n        viewBox={`0 0 ${viewBoxSize.width} ${viewBoxSize.height}`}\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        <rect width=\"100%\" height=\"100%\" fill={Colors.secondary}/>\n        {lines.map((line, index) => (\n          <DrawingLine\n            key={index}\n            line={line}\n          />\n        ))}\n      </DrawingSVG>\n    </Wrapper>\n  );\n};\n\nconst DrawingLine: React.FC<{ line: Line }> = ({ line }) => {\n  const pathData = \"M \" +\n    line\n      .map(p => {\n        return `${p.x} ${p.y}`;\n      })\n      .join(\" L \");\n\n  return <Path d={pathData} />;\n}\nexport default Drawing;","import styled from 'styled-components/macro';\n\nexport const Wrapper = styled.div`\n  margin: 5px;\n  overflow: hidden;\n  cursor: crosshair;\n  display: flex;\n  justify-content: center;\n  flex: 1;\n`\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport Drawing from './Drawing';\nimport { Wrapper } from './DrawArea.style';\n\nconst DrawArea: React.FC<{\n  lines: LinePath,\n  onChange: (lines: LinePath) => void,\n}> = ({\n  lines,\n  onChange,\n}) => {\n  const [isDrawing, setIsDrawing] = useState(false);\n  const drawingRef = useRef<HTMLDivElement>(null);\n\n  function handleMouseDown(point: Point) {\n    onChange(lines.concat([[point]]))\n    setIsDrawing(true);\n  }\n\n  function handleMouseMove(point: Point) {\n    if (!isDrawing) return;\n\n    onChange([\n      ...lines.slice(0, lines.length - 1),\n      lines[lines.length - 1].concat([point]),\n    ]);\n  }\n\n  function handleMouseUp() {\n    setIsDrawing(false);\n  }\n\n  useEffect(() => {\n    document.addEventListener(\"mouseup\", handleMouseUp);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  });\n\n  return (\n    <Wrapper>\n      <Drawing\n        drawingRef={drawingRef}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        lines={lines}\n      />\n    </Wrapper>\n\n  );\n}\n\nexport default DrawArea;\n","import styled, { css } from 'styled-components/macro';\n\nimport Colors from './Colors';\n\nexport const Wrapper = styled.div`\n  border: 3px solid ${Colors.secondaryVariant};\n  border-radius: 5px;\n  margin: 5px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 10px;\n`\n\nexport const Node = styled.div<{ isSelected: boolean }>`\n  width: 20px;\n  height: 20px;\n  background: ${Colors.secondary};\n  border-radius: 100%;\n  border: 5px solid ${Colors.primary};\n  cursor: pointer;\n\n  :hover {\n    border-color: ${Colors.secondaryVariant};\n  }\n\n  ${({ isSelected }) => isSelected && css`\n    border-color: ${Colors.primaryVariant};\n    :hover {\n      border-color: ${Colors.primaryVariant};\n    }\n  `}\n`\nexport const Preview = styled.div`\n  border-radius: 5px;\n  border: 5px solid ${Colors.secondaryVariant};\n  overflow: hidden;\n  width: fit-content;\n  position: relative;\n  right: 122px;\n  bottom: 5px;\n  width: 100px;\n`\n\nexport const Thumbnail = styled.div`\n\n`\n\nexport const TextPreview = styled.div`\n  font-size: 10px;\n  height: 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  background: ${Colors.primaryVariant};\n  padding: 5px;\n`\n","import React, { useState } from 'react';\n\nimport Drawing from './Drawing';\nimport {\n  Wrapper,\n  Node,\n  Thumbnail,\n  TextPreview,\n  Preview,\n} from './FlowChart.style';\n\nconst FlowChart: React.FC<{\n  panels: Panel[],\n  selected: number,\n  onNodeClick: (panel: Panel, index: number) => void,\n}> = ({\n  panels,\n  selected,\n  onNodeClick,\n}) => {\n  const [hoverIndex, setHoverIndex] = useState<number>(-1);\n\n  return (\n    <Wrapper>\n      {panels.map((panel, index) => (\n        <React.Fragment key={index}>\n          <Node\n            isSelected={selected === index}\n            onClick={() => onNodeClick(panel, index)}\n            onMouseEnter={() => setHoverIndex(index)}\n            onMouseLeave={() => setHoverIndex(-1)}\n          >\n            {hoverIndex === index && selected !== index && (\n              <PanelPreview panel={panel} />\n            )}\n          </Node>\n        </React.Fragment>\n      ))}\n    </Wrapper>\n  )\n};\n\nconst PanelPreview: React.FC<{\n  panel: Panel,\n}> = ({ panel }) => (\n  <Preview>\n    <Thumbnail>\n      <Drawing lines={panel.drawing}/>\n    </Thumbnail>\n    <TextPreview>{panel.text}</TextPreview>\n  </Preview>\n);\n\nexport default FlowChart;","import styled from 'styled-components/macro';\n\nimport Colors from './Colors';\nimport { Row, Column } from './UI';\n\nexport const Wrapper = styled(Row)`\n  background: ${Colors.primary};\n  color: ${Colors.secondary};\n  flex: 1;\n\n  @media (orientation:portrait) {\n    flex-direction: column;\n  }\n`\n\nexport const TextInput = styled.textarea`\n  all: unset;\n  background: ${Colors.primaryVariant};\n  padding: 10px;\n  border-radius: 0 0 10px 10px;\n  margin: 0 5px 5px 5px;\n  height: 55px;\n\n  ::placeholder {\n    color: ${Colors.secondaryVariant}\n  }\n`\n\nexport const DrawColumn = styled(Column)`\n  flex: 2;\n`;\n","import React, { useState, useEffect } from 'react';\n\nimport {\n  Row,\n  Column,\n  Button,\n} from './UI';\nimport DrawArea from './DrawArea';\nimport FlowChart from './FlowChart';\nimport {\n  Wrapper,\n  TextInput,\n  DrawColumn,\n} from './Home.style';\n\nconst Home: React.FC = () => {\n  const [drawing, setDrawing] = useState<LinePath>([]);\n  const [text, setText] = useState<string>('');\n  const [selected, setSelected] = useState<number>(0);\n  const [panels, setPanels] = useState<Panel[]>([{\n    drawing: [],\n    text: '',\n  }]);\n\n  function handleSaveClick() {\n    setPanels(prevPanels => {\n      const newPanels = prevPanels.slice(0);\n      newPanels[selected] = { drawing, text };\n      return newPanels;\n    });\n  }\n\n  function handleTextChange(event: React.ChangeEvent<HTMLTextAreaElement>) {\n    setText(event.target.value);\n  }\n\n  function handleAddChoiceClick() {\n    // TODO remove this\n    // Loading from local storage to make development easier.\n    // Nothing to do with adding choices, just using the\n    // button for convenience.\n    const savedPanels = localStorage.getItem('panels');\n    if (!savedPanels) return;\n    setPanels(JSON.parse(savedPanels));\n  }\n\n  function handleNodeClick(panel: Panel, index: number) {\n    setSelected(index);\n  }\n\n  function handleNewClick() {\n    setPanels(prevPanels => [\n      ...prevPanels,\n      {\n        drawing: [],\n        text: '',\n      },\n    ]);\n  }\n\n  useEffect(() => {\n    setSelected(panels.length - 1);\n  }, [panels.length]);\n\n  useEffect(() => {\n    setDrawing(panels[selected].drawing);\n    setText(panels[selected].text);\n  }, [panels, selected]);\n\n  useEffect(() => {\n    // TODO remove this\n    // Saving to local storage to make development easier\n    if (panels.length <= 1) return;\n    localStorage.setItem('panels', JSON.stringify(panels));\n  }, [panels]);\n\n  return (\n    <Wrapper>\n      <DrawColumn>\n        <DrawArea\n          lines={drawing}\n          onChange={setDrawing}\n        />\n        <TextInput\n          onChange={handleTextChange}\n          value={text}\n          placeholder=\"Insert panel text here...\"\n        />\n        <Row>\n          <Button onClick={handleAddChoiceClick}>Add Choice</Button>\n          <Button onClick={handleSaveClick}>Save Panel</Button>\n        </Row>\n      </DrawColumn>\n      <Column>\n        <Row>\n          <Button>Delete Panel</Button>\n          <Button onClick={handleNewClick}>New Panel</Button>\n        </Row>\n        <FlowChart\n          panels={panels}\n          onNodeClick={handleNodeClick}\n          selected={selected}\n        />\n      </Column>\n    </Wrapper>\n  )\n}\n\nexport default Home;","import { createGlobalStyle } from 'styled-components'\n\nimport Colors from './Colors';\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background: ${Colors.primary};\n  }\n\n  #root {\n    display: flex;\n    height: 100vh;\n  }\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Home from './Home';\nimport { GlobalStyle } from './index.style';\n\nReactDOM.render(\n  <>\n    <GlobalStyle/>\n    <Home />\n  </>\n, document.getElementById('root'));\n"],"sourceRoot":""}