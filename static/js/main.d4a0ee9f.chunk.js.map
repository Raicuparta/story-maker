{"version":3,"sources":["components/App/App.style.ts","components/UI/UI.style.ts","components/Edit/Edit.style.ts","components/Drawing/bresenham.ts","components/Drawing/Drawing.style.ts","components/Drawing/Drawing.tsx","components/Drawing/index.ts","components/PanelConnections/PanelConnections.style.ts","components/Thumbnail/Thumbnail.style.ts","components/Thumbnail/index.ts","components/Thumbnail/Thumbnail.tsx","components/PanelConnections/index.ts","components/PanelConnections/PanelConnections.tsx","components/Edit/Edit.tsx","components/Play/Play.style.ts","components/Play/index.ts","components/Play/Play.tsx","components/App/App.tsx","components/App/index.ts","index.tsx"],"names":["theme","primary","primaryVariant","darken","secondary","lighten","secondaryVariant","GlobalStyle","createGlobalStyle","_ref","css","ButtonBase","styled","button","withConfig","displayName","componentId","onClick","_templateObject","_templateObject2","RoundButton","Base","div","Row","Column","Wrapper","Edit_style_templateObject","TextInput","textarea","_ref2","Edit_style_templateObject2","bresenham","pointA","pointB","points","deltaX","x","deltaY","y","absDeltaY","Math","abs","absDeltaX","signX","signY","eps","push","Drawing_style_templateObject","DrawingImage","img","Canvas","canvas","viewBoxSize","height","width","Drawing","onChange","dataURL","onPressEnd","_useState","useState","_useState2","Object","slicedToArray","context","setContext","_useState3","_useState4","setCanvas","_useState5","_useState6","isDrawing","setIsDrawing","_useState7","_useState8","prevPosition","setPrevPosition","useContext","ThemeContext","draw","event","position","_canvas$getBoundingCl","getBoundingClientRect","left","top","viewBoxRatio","boundsRatio","scale","offset","floor","clientX","clientY","relativePoint","line","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","point","value","fillRect","err","return","toDataURL","startDrawing","stopDrawing","useEffect","fillStyle","image","Image","onload","drawImage","src","react_default","a","createElement","Drawing_style_Wrapper","ref","instance","getContext","onMouseMove","mouseEvent","onTouchMove","touchEvent","touches","onTouchStart","onMouseDown","onMouseUp","onTouchEnd","onMouseOut","PanelsWrapper","NewPannelText","common","Thumbnail_style_templateObject","ThumbnailImage","Placeholder","Thumbnail_style_templateObject2","Thumbnail","PanelConnections","currentPanel","prevPanel","nextPanels","onConnectionClick","onNewPanelClick","PanelConnections_style_Wrapper","components_Thumbnail","map","panel","key","id","keys","toConsumableArray","Array","length","detaultStory","panels","nextIds","text","StoryCreator","storyRef","useFirebaseApp","firestore","collection","doc","story","useFirestoreDoc","data","selected","setSelected","setPanels","shouldUpload","setShouldUpload","_updateStory","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","update","stop","apply","this","arguments","updateStory","Fragment","prevId","components_Drawing","newPanels","slice","objectSpread","target","placeholder","components_PanelConnections","prevPanels","CurrentPanelColumn","PanelWrapper","Play_style_templateObject","PanelImage","PanelText","Play_style_templateObject2","Play","current","setCurrent","Play_style_Wrapper","alt","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","path","relativePath","concat","process","App","styled_components_browser_esm","reactfire","initPerformance","wouter","params","fallback","traceId","Edit","components_Play","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.d4a0ee9f.chunk.js","sourcesContent":["import {\r\n  createGlobalStyle,\r\n  css,\r\n} from 'styled-components/macro'\r\nimport {\r\n  darken,\r\n  lighten,\r\n} from 'polished'\r\n\r\nconst primary = '#1c4265'\r\nconst primaryVariant = darken(0.15, primary)\r\nconst secondary = lighten(0.5, primary)\r\nconst secondaryVariant = lighten(0.15, primary)\r\n\r\nexport const theme = {\r\n  primary,\r\n  primaryVariant,\r\n  secondary,\r\n  secondaryVariant,\r\n}\r\n\r\nexport const GlobalStyle = createGlobalStyle(({ theme }) => css`\r\n  body {\r\n    margin: 0;\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n      sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    background: ${theme.primary};\r\n  }\r\n\r\n  #root {\r\n    display: flex;\r\n    height: 100vh;\r\n  }\r\n\r\n  * {\r\n    user-select: none;\r\n  }\r\n`)\r\n","import styled, {\r\n  css,\r\n} from 'styled-components/macro'\r\n\r\nconst ButtonBase = styled.button(({ theme, onClick }) => css`\r\n  all: unset;\r\n  background: ${theme.secondaryVariant};\r\n  margin: 5px;\r\n  text-align: center;\r\n  border: solid 3px ${theme.primary};\r\n\r\n  ${onClick && css`\r\n    cursor: pointer;\r\n\r\n    border-color: ${theme.primaryVariant};\r\n\r\n    :hover {\r\n      border-color: ${theme.secondaryVariant};\r\n    }\r\n\r\n    :active {\r\n      background: ${theme.primary};\r\n      border-color: ${theme.primaryVariant};\r\n    }\r\n  `}\r\n`)\r\n\r\nexport const Button = styled(ButtonBase)`\r\n  flex: 1;\r\n  border-radius: 5px;\r\n  padding: 7px;\r\n`\r\n\r\nexport const RoundButton = styled(ButtonBase)`\r\n  border-radius: 100%;\r\n  flex: unset;\r\n  overflow: hidden;\r\n  height: 80px;\r\n  width: 80px;\r\n\r\n  @media (orientation:portrait) {\r\n    height: 50px;\r\n    width: 50px;\r\n  }\r\n`\r\n\r\nconst Base = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport const Row = styled(Base)``\r\n\r\nexport const Column = styled(Base)`\r\n  flex: 1;\r\n  flex-direction: column;\r\n`\r\n","import styled, {\r\n  css,\r\n} from 'styled-components/macro'\r\n\r\nimport { Row } from '../UI'\r\n\r\nexport const Wrapper = styled(Row)(({ theme }) => css`\r\n  background: ${theme.primary};\r\n  color: ${theme.secondary};\r\n  flex: 1;\r\n\r\n  @media (orientation:portrait) {\r\n    flex-direction: column;\r\n  }\r\n`)\r\n\r\nexport const TextInput = styled.textarea(({ theme }) => css`\r\n  all: unset;\r\n  background: ${theme.primaryVariant};\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  margin: 5px;\r\n  height: 55px;\r\n\r\n  ::placeholder {\r\n    color: ${theme.secondaryVariant}\r\n  }\r\n`)\r\n","function bresenham (pointA: Point, pointB: Point) {\r\n  const points: Point[] = []\r\n  const deltaX = pointB.x - pointA.x\r\n  const deltaY = pointB.y - pointA.y\r\n  const absDeltaY = Math.abs(deltaX)\r\n  const absDeltaX = Math.abs(deltaY)\r\n  const signX = deltaX > 0 ? 1 : -1\r\n  const signY = deltaY > 0 ? 1 : -1\r\n\r\n  let eps = 0\r\n\r\n  if (absDeltaY > absDeltaX) {\r\n    for (let x = pointA.x, y = pointA.y; signX < 0 ? x >= pointB.x : x <= pointB.x; x += signX) {\r\n      points.push({ x, y })\r\n      eps += absDeltaX\r\n      if ((eps << 1) >= absDeltaY) {\r\n        y += signY\r\n        eps -= absDeltaY\r\n      }\r\n    }\r\n  } else {\r\n    for (let x = pointA.x, y = pointA.y; signY < 0 ? y >= pointB.y : y <= pointB.y; y += signY) {\r\n      points.push({ x, y })\r\n      eps += absDeltaY\r\n      if ((eps << 1) >= absDeltaX) {\r\n        x += signX\r\n        eps -= absDeltaX\r\n      }\r\n    }\r\n  }\r\n  return points\r\n}\r\n\r\nexport default bresenham\r\n","import styled, {\r\n  css,\r\n} from 'styled-components/macro'\r\n\r\nexport const Wrapper = styled.div(({ theme }) => css`\r\n  flex: 1;\r\n  background: ${theme.secondaryVariant};\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin: 5px;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n`)\r\n\r\nexport const DrawingImage = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  image-rendering: pixelated;\r\n`\r\n\r\nexport const Canvas = styled.canvas`\r\n  cursor: crosshair;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n  touch-action: none;\r\n`\r\n","import React, {\r\n  useEffect,\r\n  useState,\r\n  useContext,\r\n} from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\n\r\nimport bresenham from './bresenham'\r\nimport {\r\n  Canvas,\r\n  DrawingImage,\r\n  Wrapper,\r\n} from './Drawing.style'\r\n\r\nconst viewBoxSize = {\r\n  height: 60,\r\n  width: 80,\r\n}\r\n\r\ninterface Props {\r\n  onChange: (dataURL: string) => void;\r\n  dataURL: string;\r\n  onPressEnd: () => void;\r\n}\r\n\r\nconst Drawing: React.FC<Props> = ({\r\n  onChange,\r\n  dataURL,\r\n  onPressEnd,\r\n}) => {\r\n  const [context, setContext] = useState<CanvasRenderingContext2D>()\r\n  const [canvas, setCanvas] = useState<HTMLCanvasElement>()\r\n  const [isDrawing, setIsDrawing] = useState(false)\r\n  const [prevPosition, setPrevPosition] = useState<Point>()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  useEffect(() => {\r\n    if (!context || !canvas) {\r\n      return\r\n    }\r\n\r\n    if (!dataURL) {\r\n      context.fillStyle = theme.secondary\r\n      context.fillRect(0, 0, canvas.width, canvas.height)\r\n\r\n      onChange(canvas.toDataURL())\r\n    }\r\n    context.fillStyle = theme.primary\r\n\r\n    // When dataURL is updated, we update the canvas with the new image.\r\n    // But only when a new full image is being loaded, not when we are drawing.\r\n    if (!isDrawing) {\r\n      const image = new Image()\r\n      image.onload = () => context.drawImage(image, 0, 0)\r\n      image.src = dataURL\r\n    }\r\n  }, [context, canvas, dataURL, isDrawing, onChange, theme])\r\n\r\n  function relativePoint (event: React.MouseEvent | React.Touch): Point {\r\n    if (!canvas) {\r\n      return { x: 0, y: 0 }\r\n    }\r\n\r\n    const {\r\n      width,\r\n      height,\r\n      left,\r\n      top,\r\n    } = canvas.getBoundingClientRect()\r\n\r\n    const viewBoxRatio = viewBoxSize.height / viewBoxSize.width\r\n    const boundsRatio = height / width\r\n\r\n    const scale = viewBoxRatio < boundsRatio\r\n      ? width / viewBoxSize.width\r\n      : height / viewBoxSize.height\r\n\r\n    const offset: Point = {\r\n      x: left,\r\n      y: top,\r\n    }\r\n\r\n    if (viewBoxRatio > boundsRatio) {\r\n      offset.x += (width - (viewBoxSize.width * scale)) / 2\r\n    } else {\r\n      offset.y += (height - (viewBoxSize.height * scale)) / 2\r\n    }\r\n\r\n    return {\r\n      x: Math.floor((event.clientX - offset.x) / scale),\r\n      y: Math.floor((event.clientY - offset.y) / scale),\r\n    }\r\n  }\r\n\r\n  function setCanvasRef (instance: HTMLCanvasElement | null) {\r\n    if (!instance || canvas || context) { return }\r\n\r\n    setCanvas(instance)\r\n    setContext(instance.getContext('2d') || undefined)\r\n  }\r\n\r\n  function draw (event: React.MouseEvent | React.Touch) {\r\n    if (!context || !canvas) { return }\r\n\r\n    const position: Point = relativePoint(event)\r\n    const line = bresenham(prevPosition || position, position)\r\n\r\n    for (const point of line) {\r\n      context.fillRect(point.x, point.y, 1, 1)\r\n    }\r\n\r\n    onChange(canvas.toDataURL())\r\n\r\n    setPrevPosition(position)\r\n  }\r\n\r\n  function handleMouseMove (mouseEvent: React.MouseEvent) {\r\n    if (isDrawing) {\r\n      draw(mouseEvent)\r\n    }\r\n  }\r\n\r\n  function handleTouchMove (touchEvent: React.TouchEvent) {\r\n    draw(touchEvent.touches[0])\r\n  }\r\n\r\n  function startDrawing () {\r\n    setIsDrawing(true)\r\n  }\r\n\r\n  function stopDrawing () {\r\n    setIsDrawing(false)\r\n    setPrevPosition(undefined)\r\n    onPressEnd()\r\n  }\r\n\r\n  function handleMouseDown (mouseEvent: React.MouseEvent) {\r\n    startDrawing()\r\n    draw(mouseEvent)\r\n  }\r\n\r\n  function handleTouchStart (touchEvent: React.TouchEvent) {\r\n    startDrawing()\r\n    draw(touchEvent.touches[0])\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {dataURL && (\r\n        <DrawingImage src={dataURL} />\r\n      )}\r\n      <Canvas\r\n        ref={setCanvasRef}\r\n        onMouseMove={handleMouseMove}\r\n        onTouchMove={handleTouchMove}\r\n        onTouchStart={handleTouchStart}\r\n        onMouseDown={handleMouseDown}\r\n        onMouseUp={stopDrawing}\r\n        onTouchEnd={stopDrawing}\r\n        onMouseOut={stopDrawing}\r\n        width={viewBoxSize.width}\r\n        height={viewBoxSize.height}\r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Drawing\r\n","import Drawing from './Drawing'\r\nexport default Drawing\r\n","import styled from 'styled-components/macro'\r\n\r\nimport { Column, Row } from '../UI'\r\n\r\nexport const Wrapper = styled(Column)`\r\n  flex-direction: column;\r\n  margin: 10px;\r\n  display: flex;\r\n  flex: unset;\r\n\r\n  @media (orientation:portrait) {\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nexport const PanelsWrapper = styled(Row)`\r\n  @media (orientation:portrait) {\r\n    flex-direction: column;\r\n  }\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nexport const NewPannelText = styled.div`\r\n  margin-top: -22px;\r\n  font-size: 5em;\r\n\r\n  @media (orientation:portrait) {\r\n    font-size: 3.8em;\r\n  }\r\n`\r\n","import styled, {\r\n  css,\r\n} from 'styled-components/macro'\r\n\r\nconst common = css`\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\n\r\nexport const ThumbnailImage = styled.img`\r\n  ${common}\r\n  flex: 1;\r\n`\r\n\r\nexport const Placeholder = styled.div(({ theme }) => css`\r\n  ${common}\r\n  padding-bottom: 75%;\r\n  background-color: ${theme.secondary};\r\n`)\r\n","import Thumbnail from './Thumbnail'\r\nexport default Thumbnail\r\n","import React from 'react'\r\n\r\nimport {\r\n  Placeholder,\r\n  ThumbnailImage,\r\n} from './Thumbnail.style'\r\n\r\nconst Thumbnail: React.FC<{ src: string }> = ({ src }) => (\r\n  src ? (\r\n    <ThumbnailImage src={src} />\r\n  ) : (\r\n    <Placeholder />\r\n  )\r\n)\r\n\r\nexport default Thumbnail\r\n","import PanelConnections from './PanelConnections'\r\nexport default PanelConnections\r\n","import React from 'react'\r\n\r\nimport {\r\n  NewPannelText,\r\n  PanelsWrapper,\r\n  Wrapper,\r\n} from './PanelConnections.style'\r\nimport { RoundButton } from '../UI'\r\nimport Thumbnail from '../Thumbnail'\r\n\r\nconst MAX_NEXT_PANELS = 2\r\n\r\nconst PanelConnections: React.FC<{\r\n  prevPanel?: Panel;\r\n  currentPanel: Panel;\r\n  nextPanels: Panel[];\r\n  onConnectionClick: (panel: Panel) => void;\r\n  onNewPanelClick: () => void;\r\n}> = ({\r\n  currentPanel,\r\n  prevPanel,\r\n  nextPanels,\r\n  onConnectionClick,\r\n  onNewPanelClick,\r\n}) => (\r\n  <Wrapper>\r\n    {prevPanel && (\r\n      <PanelsWrapper>\r\n        <RoundButton onClick={() => onConnectionClick(prevPanel)}>\r\n          <Thumbnail src={prevPanel.dataURL} />\r\n        </RoundButton>\r\n      </PanelsWrapper>\r\n    )}\r\n    {!prevPanel && (\r\n      <PanelsWrapper>\r\n        <RoundButton />\r\n      </PanelsWrapper>\r\n    )}\r\n    <PanelsWrapper>\r\n      <RoundButton>\r\n        <Thumbnail src={currentPanel.dataURL} />\r\n      </RoundButton>\r\n    </PanelsWrapper>\r\n    <PanelsWrapper>\r\n      {nextPanels.map(panel => (\r\n        <RoundButton\r\n          key={panel.id}\r\n          onClick={() => onConnectionClick(panel)}\r\n        >\r\n          <Thumbnail src={panel.dataURL} />\r\n        </RoundButton>\r\n      ))}\r\n      {\r\n        // Generate an array of numbers from 0 to MAX_NEXT_PANELS\r\n        Object.keys([...Array(MAX_NEXT_PANELS - nextPanels.length)])\r\n          .map(panel => (\r\n            <RoundButton\r\n              key={panel}\r\n              onClick={onNewPanelClick}\r\n            >\r\n              <NewPannelText>+</NewPannelText>\r\n            </RoundButton>\r\n          ))\r\n      }\r\n    </PanelsWrapper>\r\n  </Wrapper>\r\n)\r\n\r\nexport default PanelConnections\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n} from 'react'\r\nimport {\r\n  useFirestoreDoc,\r\n  useFirebaseApp,\r\n} from 'reactfire'\r\n\r\nimport {\r\n  TextInput,\r\n  Wrapper,\r\n} from './Edit.style'\r\nimport {\r\n  Column,\r\n} from '../UI'\r\nimport Drawing from '../Drawing'\r\nimport PanelConnections from '../PanelConnections'\r\n\r\nconst defaultPanel: Panel = {\r\n  id: 0,\r\n  nextIds: [],\r\n  text: '',\r\n  dataURL: '',\r\n}\r\n\r\nconst detaultStory: Story = {\r\n  panels: [defaultPanel],\r\n}\r\n\r\ninterface Props {\r\n  id?: string;\r\n}\r\n\r\nconst StoryCreator: React.FC<Props> = ({ id }) => {\r\n  const firebaseApp = useFirebaseApp()\r\n\r\n  const storyRef = firebaseApp\r\n    .firestore()\r\n    .collection('stories')\r\n    .doc(id)\r\n\r\n  // Had to specify the DocumentSnapshot type error to a bug in reactfire's typings\r\n  const story = useFirestoreDoc<firebase.firestore.DocumentSnapshot>(storyRef)\r\n    .data() as Story || detaultStory\r\n\r\n  const [selected, setSelected] = useState<number>(0)\r\n  const [panels, setPanels] = useState<Panel[]>(story.panels)\r\n  const [shouldUpload, setShouldUpload] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!shouldUpload) {\r\n      return\r\n    }\r\n\r\n    setShouldUpload(false)\r\n\r\n    async function updateStory () {\r\n      storyRef.update('panels', panels)\r\n    }\r\n\r\n    updateStory()\r\n  }, [panels, storyRef, shouldUpload])\r\n\r\n  if (!story) {\r\n    return <>Story not found</>\r\n  }\r\n\r\n  const currentPanel = panels[selected]\r\n  const prevPanel = (currentPanel.prevId !== undefined) ? panels[currentPanel.prevId] : undefined\r\n  const nextPanels = currentPanel.nextIds.map(id => panels[id])\r\n\r\n  function handleTextChange (event: React.ChangeEvent<HTMLTextAreaElement>) {\r\n    const newPanels = panels.slice(0)\r\n    newPanels[selected] = {\r\n      ...newPanels[selected],\r\n      text: event.target.value,\r\n    }\r\n\r\n    setPanels(newPanels)\r\n  }\r\n\r\n  function handleNewPanelClick () {\r\n    setPanels(prevPanels => {\r\n      const newPanels = prevPanels.slice(0)\r\n\r\n      newPanels[selected].nextIds.push(newPanels.length)\r\n      newPanels.push({\r\n        dataURL: '',\r\n        id: newPanels.length,\r\n        nextIds: [],\r\n        prevId: selected,\r\n        text: '',\r\n      })\r\n\r\n      return newPanels\r\n    })\r\n  }\r\n\r\n  function handleCanvasChange (dataURL: string) {\r\n    const newPanels = panels.slice(0)\r\n    newPanels[selected] = {\r\n      ...newPanels[selected],\r\n      dataURL: dataURL || '',\r\n    }\r\n\r\n    setPanels(newPanels)\r\n  }\r\n\r\n  function handlePanelConnectionClick (panel: Panel) {\r\n    setSelected(panel.id)\r\n  }\r\n\r\n  function handlePressEnd () {\r\n    setShouldUpload(true)\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Column>\r\n        <Drawing\r\n          onChange={handleCanvasChange}\r\n          onPressEnd={handlePressEnd}\r\n          dataURL={currentPanel.dataURL}\r\n        />\r\n        <TextInput\r\n          onChange={handleTextChange}\r\n          value={currentPanel.text}\r\n          placeholder=\"Insert panel text here\"\r\n        />\r\n      </Column>\r\n      <PanelConnections\r\n        prevPanel={prevPanel}\r\n        currentPanel={currentPanel}\r\n        nextPanels={nextPanels}\r\n        onConnectionClick={handlePanelConnectionClick}\r\n        onNewPanelClick={handleNewPanelClick}\r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default StoryCreator\r\n","import styled, {\r\n  css,\r\n} from 'styled-components/macro'\r\n\r\nimport {\r\n  Row,\r\n  Column,\r\n} from '../UI'\r\n\r\nexport const Wrapper = styled(Row)`\r\n  width: 100%;\r\n  padding: 10px;\r\n`\r\n\r\nexport const CurrentPanelColumn = styled(Column)`\r\n  flex: 2;\r\n`\r\n\r\nexport const PanelWrapper = styled.div(({ theme }) => css`\r\n  margin: 10px;\r\n  border: solid 5px ${theme.primaryVariant};\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n`)\r\n\r\nexport const PanelImage = styled.img`\r\n  width: 100%;\r\n  image-rendering: pixelated;\r\n  display: block;\r\n`\r\n\r\nexport const PanelText = styled.div(({ theme }) => css`\r\n  background: ${theme.primaryVariant};\r\n  padding: 10px;\r\n  color: ${theme.secondary};\r\n`)\r\n","import Play from './Play'\r\nexport default Play\r\n","import React, {\r\n  useState,\r\n} from 'react'\r\nimport {\r\n  useFirestoreDoc,\r\n  useFirebaseApp,\r\n} from 'reactfire'\r\n\r\nimport {\r\n  PanelImage,\r\n  Wrapper,\r\n  PanelWrapper,\r\n  CurrentPanelColumn,\r\n  PanelText,\r\n} from './Play.style'\r\nimport { Column } from '../UI'\r\n\r\ninterface Props {\r\n  id?: string;\r\n}\r\n\r\nconst StoryPlayer: React.FC<Props> = ({ id }) => {\r\n  const [current, setCurrent] = useState<number>(0)\r\n\r\n  const firebaseApp = useFirebaseApp()\r\n  const storyRef = firebaseApp\r\n    .firestore()\r\n    .collection('stories')\r\n    .doc(id)\r\n\r\n  // Had to specify the DocumentSnapshot type error to a bug in reactfire's typings\r\n  const story = useFirestoreDoc<firebase.firestore.DocumentSnapshot>(storyRef)\r\n    .data() as Story | undefined\r\n\r\n  if (!story) {\r\n    return (\r\n      <>Story not found</>\r\n    )\r\n  }\r\n\r\n  const currentPanel = story.panels[current]\r\n\r\n  return (\r\n    <Wrapper>\r\n      {currentPanel && (\r\n        <CurrentPanelColumn>\r\n          <PanelWrapper>\r\n            <PanelImage\r\n              src={currentPanel.dataURL}\r\n              alt={currentPanel.text}\r\n            />\r\n            <PanelText>\r\n              {currentPanel.text}\r\n            </PanelText>\r\n          </PanelWrapper>\r\n        </CurrentPanelColumn>\r\n      )}\r\n      <Column>\r\n        {currentPanel.nextIds && currentPanel.nextIds.map(id => (\r\n          <PanelWrapper key={id}>\r\n            <PanelImage\r\n              src={story.panels[id].dataURL}\r\n              alt={story.panels[id].text}\r\n              onClick={() => setCurrent(id)}\r\n            />\r\n            <PanelText>\r\n              {story.panels[id].text}\r\n            </PanelText>\r\n          </PanelWrapper>\r\n        ))}\r\n      </Column>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default StoryPlayer\r\n","import React from 'react'\r\nimport { Route } from 'wouter'\r\nimport { ThemeProvider } from 'styled-components/macro'\r\nimport {\r\n  FirebaseAppProvider,\r\n  SuspenseWithPerf,\r\n} from 'reactfire'\r\nimport 'firebase/performance'\r\nimport 'firebase/firestore'\r\n\r\nimport {\r\n  GlobalStyle,\r\n  theme,\r\n} from './App.style'\r\nimport StoryCreator from '../Edit/Edit'\r\nimport Play from '../Play'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyC5mVxaorL_LmNWasC5LNmAC3cmlQ-5vFM',\r\n  authDomain: 'story-maker-85706.firebaseapp.com',\r\n  databaseURL: 'https://story-maker-85706.firebaseio.com',\r\n  projectId: 'story-maker-85706',\r\n  storageBucket: 'story-maker-85706.appspot.com',\r\n  messagingSenderId: '105986550181',\r\n  appId: '1:105986550181:web:81ec40d053faad45',\r\n}\r\n\r\nconst path = (relativePath = '') => `${process.env.PUBLIC_URL}/${relativePath}`\r\n\r\nconst App: React.FC = () => (\r\n  <ThemeProvider theme={theme}>\r\n    <FirebaseAppProvider\r\n      firebaseConfig={firebaseConfig}\r\n      initPerformance\r\n    >\r\n      <GlobalStyle/>\r\n      <Route path={path('story/:id/edit')}>\r\n        {params => (\r\n          <SuspenseWithPerf\r\n            fallback={'loading...'}\r\n            traceId={'load-story-player'}\r\n          >\r\n            <StoryCreator id={params ? params.id : undefined} />\r\n          </SuspenseWithPerf>\r\n        )}\r\n      </Route>\r\n      <Route path={path('story/:id')}>\r\n        {params => (\r\n          <SuspenseWithPerf\r\n            fallback={'loading...'}\r\n            traceId={'load-story-creaor'}\r\n          >\r\n            <Play id={params ? params.id : undefined} />\r\n          </SuspenseWithPerf>\r\n        )}\r\n      </Route>\r\n    </FirebaseAppProvider>\r\n  </ThemeProvider>\r\n)\r\n\r\nexport default App\r\n","import App from './App'\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './components/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}